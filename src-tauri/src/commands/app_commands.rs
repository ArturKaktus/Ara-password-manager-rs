use tauri::AppHandle;

/// Асинхронная команда для корректного завершения работы приложения Tauri
///
/// # Аргументы
/// * `app_handle` - экземпляр AppHandle, предоставляющий доступ к API управления приложением
///
/// # Поведение
/// Вызывает системный выход приложения с кодом 0 (успешное завершение)
///
/// # Безопасность
/// Команда помечена #[tauri::command], что означает:
/// - Автоматическую проверку прав доступа (если настроено)
/// - Поддержку асинхронного выполнения
/// - Генерацию TypeScript-типов для фронтенда (при использовании tauri-plugin)
#[tauri::command]
pub async fn exit_app(app_handle: AppHandle) {
    // Вызываем метод exit() с кодом возврата 0
    // Код 0 означает успешное завершение (общепринятый стандарт в UNIX-системах)
    app_handle.exit(0);

    // Примечание: после вызова exit() дальнейший код не выполняется
    // Все ресурсы приложения корректно освобождаются
}
